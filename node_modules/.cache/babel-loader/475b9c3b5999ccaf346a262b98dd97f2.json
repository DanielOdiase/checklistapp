{"ast":null,"code":"import _regeneratorRuntime from\"/Users/daniel/Documents/firestuff/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/daniel/Documents/firestuff/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/daniel/Documents/firestuff/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import{useState,useEffect}from'react';import Topbar from'./components/Topbar/Topbar';import db from'./firebase_config';import{collection,addDoc,serverTimestamp,onSnapshot}from'@firebase/firestore';import ProjectList from'./components/Projects/ProjectList';import SentList from'./components/SentList/SentList';import WonList from'./components/WonList/Won';import Ongoing from'./components/OngoingList/Ongoing';import{useAuth}from'./firebase_config';import{Button}from'@mui/material';import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),projectValue=_useState2[0],setProject=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),proj=_useState4[0],setProjValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),sent=_useState6[0],setSent=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),won=_useState8[0],setWon=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),ongoing=_useState10[0],setOngoing=_useState10[1];function getProject(){onSnapshot(collection(db,\"projects\"),function(snapshot){return setProjValue(snapshot.docs.filter(function(doc){return doc.data().inprogress===0;}).map(function(doc){return{id:doc.id,project:doc.data().project};}));});}function sentEstimateProject(){onSnapshot(collection(db,\"projects\"),function(snapshot){return setSent(snapshot.docs.filter(function(stuff){return stuff.data().inprogress===1;}).map(function(stuff){return{id:stuff.id,project:stuff.data().project};}));});}function wonProject(){onSnapshot(collection(db,\"projects\"),function(snapshot){return setWon(snapshot.docs.filter(function(won){return won.data().inprogress===2;}).map(function(won){return{id:won.id,project:won.data().project};}));});}function OngoingProject(){onSnapshot(collection(db,\"projects\"),function(snapshot){return setOngoing(snapshot.docs.filter(function(on){return on.data().inprogress===3;}).map(function(on){return{id:on.id,project:on.data().project};}));});}useEffect(function(){return getProject();},[]);useEffect(function(){return sentEstimateProject();},[]);useEffect(function(){return wonProject();},[]);useEffect(function(){return OngoingProject();},[]);function addProject(_x){return _addProject.apply(this,arguments);}function _addProject(){_addProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var collectionRef,payload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();collectionRef=collection(db,\"projects\");payload={inprogress:0,project:projectValue,timeStamp:serverTimestamp()};setLoading(true);_context.next=6;return addDoc(collectionRef,payload);case 6:setProject(\"\");setLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return _addProject.apply(this,arguments);}var _useAuth=useAuth(),logout=_useAuth.logout;var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var Navigate=useNavigate();function handleLogout(){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return logout();case 4://setLoading(false)\nNavigate(\"/signin\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alert(\"Error\");case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _handleLogout.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Button,{disabled:loading,onClick:handleLogout,children:\" LOGOUT\"}),/*#__PURE__*/_jsx(Topbar,{addProject:addProject,projectValue:projectValue,setProject:setProject}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"projBody\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"15px\"},children:\"Estimates\"}),proj.map(function(projList){return/*#__PURE__*/_jsx(ProjectList,{project:projList.project,inprogress:projList.inprogress,id:projList.id},projList.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sent\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"15px\"},children:\"Sent Estimates\"}),sent.map(function(newList){return/*#__PURE__*/_jsx(SentList,{project:newList.project,inprogress:newList.inprogress,id:newList.id},newList.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"won\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"15px\"},children:\"Won Projects\"}),won.map(function(wonList){return/*#__PURE__*/_jsx(WonList,{project:wonList.project,inprogress:wonList.inprogress,id:wonList.id},wonList.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ongoing\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"15px\"},children:\"Ongoing Projects\"}),ongoing.map(function(ongoingList){return/*#__PURE__*/_jsx(Ongoing,{project:ongoingList.project,inprogress:ongoingList.inprogress,id:ongoingList.id},ongoingList.id);})]})]})]});}export default App;","map":{"version":3,"sources":["/Users/daniel/Documents/firestuff/todo/src/App.js"],"names":["useState","useEffect","Topbar","db","collection","addDoc","serverTimestamp","onSnapshot","ProjectList","SentList","WonList","Ongoing","useAuth","Button","useNavigate","App","projectValue","setProject","proj","setProjValue","sent","setSent","won","setWon","ongoing","setOngoing","getProject","snapshot","docs","filter","doc","data","inprogress","map","id","project","sentEstimateProject","stuff","wonProject","OngoingProject","on","addProject","e","preventDefault","collectionRef","payload","timeStamp","setLoading","logout","loading","Navigate","handleLogout","alert","fontSize","projList","newList","wonList","ongoingList"],"mappings":"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","sourcesContent":["\nimport './App.css';\nimport {useState,useEffect} from 'react';\nimport Topbar from './components/Topbar/Topbar';\nimport db from './firebase_config';\nimport { collection,addDoc,serverTimestamp, onSnapshot} from '@firebase/firestore';\nimport ProjectList from './components/Projects/ProjectList';\nimport SentList from './components/SentList/SentList';\nimport WonList from './components/WonList/Won';\nimport Ongoing from './components/OngoingList/Ongoing';\nimport { useAuth } from './firebase_config';\nimport { Button } from '@mui/material';\nimport { useNavigate } from 'react-router';\n\n\n\n\n\n\nfunction App() {\n  const [projectValue, setProject] = useState(\"\");\n  const [proj,setProjValue]=useState([])\n  const [sent,setSent]=useState([])\n  const [won,setWon]=useState([])\n  const [ongoing,setOngoing]=useState([])\n  \nfunction getProject(){\n  onSnapshot(collection(db,\"projects\"),(snapshot)=>\n  setProjValue((snapshot.docs.filter((doc)=> doc.data().inprogress===0))\n  .map((doc)=> ({id:doc.id ,project:doc.data().project}))))  \n  \n}\n\n\n\nfunction sentEstimateProject(){\n  onSnapshot(collection(db,\"projects\"),(snapshot)=>\n  setSent((snapshot.docs.filter((stuff)=> stuff.data().inprogress===1))\n  .map((stuff)=> ({id:stuff.id ,project:stuff.data().project}))))    \n}\n\n\nfunction wonProject(){\n  onSnapshot(collection(db,\"projects\"),(snapshot)=>\n  setWon((snapshot.docs.filter((won)=> won.data().inprogress===2))\n  .map((won)=> ({id:won.id ,project:won.data().project}))))    \n}\n\n\nfunction OngoingProject(){\n  onSnapshot(collection(db,\"projects\"),(snapshot)=>\n  setOngoing((snapshot.docs.filter((on)=> on.data().inprogress===3))\n  .map((on)=> ({id:on.id ,project:on.data().project}))))    \n}\nuseEffect(() => \ngetProject()\n  , [])\n \n  useEffect(() => \n  sentEstimateProject()\n  \n    , [])\n\n    useEffect(() => \n    wonProject()\n      , [])\n\n      useEffect(() => \n    OngoingProject()\n      , [])\n  async function addProject(e){\n    e.preventDefault()\n const collectionRef = collection(db,\"projects\");\n const payload= {inprogress:0,\n  project:projectValue,\ntimeStamp:serverTimestamp()};\nsetLoading(true)\n  await addDoc(collectionRef,payload)\n  setProject(\"\")\n  setLoading(false)\n  }\n  \n  const {logout}=useAuth()\n  const[loading,setLoading]=useState(false)\n  const Navigate=useNavigate()\n  \n  async function handleLogout (){\n  \n    try{\n      setLoading(true)\n      await logout()\n      //setLoading(false)\n      Navigate(\"/signin\")\n     \n    }catch{\n      alert(\"Error\")\n    }\n  \n  }\n\n  \n  return (\n<div className=\"App\">\n      <Button disabled={loading} onClick={handleLogout}> LOGOUT</Button>\n        <Topbar addProject={addProject} projectValue={projectValue} setProject={setProject}/>\n\n       <div className=\"container\"> \n     \n       <div className=\"projBody\">\n       <h1 style={{fontSize:\"15px\"}}>Estimates</h1> \n        {proj.map((projList)=>(<ProjectList key={projList.id} \n        project= {projList.project} \n        inprogress={projList.inprogress} \n        id={projList.id}\n       \n        />))}\n       </div>\n       \n       <div className=\"sent\">\n       <h1 style={{fontSize:\"15px\"}}>Sent Estimates</h1> \n       {sent.map((newList)=>(\n       <SentList key={newList.id} \n       project= {newList.project} \n       inprogress={newList.inprogress} \n       id={newList.id}\n       />))}\n       </div>\n\n       <div className=\"won\">\n       <h1 style={{fontSize:\"15px\"}}>Won Projects</h1> \n       {won.map((wonList)=>(\n       <WonList key={wonList.id} \n       project= {wonList.project} \n       inprogress={wonList.inprogress} \n       id={wonList.id}\n       />))}\n       </div>\n\n       <div className=\"ongoing\">\n       <h1 style={{fontSize:\"15px\"}}>Ongoing Projects</h1> \n       {ongoing.map((ongoingList)=>(\n       <Ongoing key={ongoingList.id} \n       project= {ongoingList.project} \n       inprogress={ongoingList.inprogress} \n       id={ongoingList.id}\n       />))}\n       </div>\n       </div>\n    \n  \n    </div>\n)\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}